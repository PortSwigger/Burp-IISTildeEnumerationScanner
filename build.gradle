apply plugin: 'java'

version '2.0'

repositories {
	mavenCentral()
}

targetCompatibility = '1.8'
sourceCompatibility = '1.8'

dependencies {
	implementation 'net.portswigger.burp.extender:burp-extender-api:1.7.22'
	implementation 'org.apache.commons:commons-text:1.10.0'
}

sourceSets {
	main {
		java {
			srcDir 'src'
		}
	}
}

compileJava {
	options.encoding = 'UTF-8'
}

task fatJar(type: Jar) {
	duplicatesStrategy = DuplicatesStrategy.INCLUDE
	archiveBaseName = project.name + '-all'
	from { configurations.runtimeClasspath.collect { it.isDirectory() ? it : zipTree(it) } }
	with jar
}